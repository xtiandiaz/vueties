@use '@vueties/utils/vuetystrap' as vs;

$form-padding: 1rem;
$max-width: 1080px !default;
$row-h-padding: 1rem;
$row-min-height: 3rem;

%form-section {
  display: flex;
  flex-direction: column;
  gap: 0.5em;
  
  > * {
    width: auto;
  }
  
  div.header, div.footer {
    padding: 0 1em;
    @include vs.caption();
    @include vs.color-attribute('color', vs.$tertiary-body-color);
    
    > * {
      display: block;
    }
  }
  
  div.header {
    display: flex;
    flex-direction: column;
    gap: 0.25em;
    
    &.inline {
      align-items: center;
      flex-direction: row;
      gap: 0.5em;
    }
    
    span.title {
      letter-spacing: 0.05em;
      @include vs.strong();
    }
  }
  
  .rows {
    border-radius: 1em;
    display: flex;
    flex-direction: column;
    gap: 1px;
    overflow: hidden;
    @include vs.color-attribute('background-color', vs.$tertiary-background-color);
    
    .divider {
      line-height: calc($row-min-height / 1.25);
      min-height: 0.5em;
      padding-left: 1em;
      @include vs.color-attribute('background-color', vs.$background-color, 0.75);
      @include vs.color-attributes((
        'color': vs.$secondary-body-color
      ));
    }
  }
}

%form-row {
  align-items: center;
  display: flex;
  flex-direction: row;
  gap: 0.75em;
  min-height: $row-min-height;
  overflow: hidden;
  padding: 0 $row-h-padding;
  @include vs.color-attribute('background-color', vs.$background-color);
  
  &:first-of-type .rounded-element {
    border-radius: 1em 1em 0 0;
  }
  &:last-of-type .rounded-element {
    border-radius: 0 0 1em 1em;
  }
  &:only-of-type .rounded-element {
    border-radius: 1em;
  }
  
  &.text-input {
    padding: 0;
    gap: 0;
    
    input {
      border: none;
      padding: 0;
      width: 100%;
      @include vs.body();
    }
  }
  
  &.discloser {
    padding-right: calc($row-h-padding / 1.5);
  }
  
  .disclosure-indicator {
    @include vs.size(1rem);
    @include vs.color-attribute('color', vs.$accessory-color);
  }
  
  .disclosure-wrapper {
    align-items: center;
    display: inline-flex;
    gap: 0.5em;
    
    > * {
      display: inline-block;
    }
  }
  
  .representative-icon {
    @include vs.size(1.5em);
  }
}

form {
  display: flex;
  flex-direction: column;
  gap: 2em;
  margin: 0 auto;
  max-width: $max-width;
  padding: $form-padding;
  text-align: left;
  
  ::placeholder {
    @include vs.color-attribute('color', vs.$accessory-color);
  }
  
  input:focus, textarea:focus {
    outline: none;
  }
  
  input[type=text] {
    line-height: $row-min-height;
    @include vs.color-attributes((
      'background-color': vs.$background-color,
      'color': vs.$body-color,
      'caret-color': vs.$body-color
    ));
  }
  
  section {
    @extend %form-section;
  }
      
  .row {
    @extend %form-row;
  }
}
